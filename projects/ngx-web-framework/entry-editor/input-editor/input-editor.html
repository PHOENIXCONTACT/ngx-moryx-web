<!-- SLIDER -->
@if (shouldUseSlider() && !useTextArea()) {
  <div class="slider-wrap">
    <label class="slider-label">{{ entry().displayName }}</label>
    <div class="slider-row">
      <mat-slider
        class="entry-slider"
        [min]="entry().validation?.minimum"
        [max]="entry().validation?.maximum"
        [step]="getSliderStep()"
        [discrete]="!shouldShowInlineInput()"
        [disabled]="inputFormControl.disabled"
        [showTickMarks]="true">
        <input
          matSliderThumb
          [ngModel]="
          inputFormControl.value === '' || inputFormControl.value === null || inputFormControl.value === undefined
            ? entry().validation?.minimum ?? 0
            : +inputFormControl.value
        "
          (ngModelChange)="inputFormControl.setValue($event)" />
      </mat-slider>
      @if (shouldShowInlineInput()) {
        <mat-form-field class="slider-inline-input" appearance="outline">
          <input
            matInput
            type="number"
            [step]="getSliderStep()"
            [min]="entry().validation?.minimum!"
            [max]="entry().validation?.maximum!"
            [formControl]="inputFormControl"
            [readonly]="readOnly()"
            [placeholder]="
          inputFormControl.value === '' || inputFormControl.value === null || inputFormControl.value === undefined
            ? entry().value.default ?? ''
            : ''
        " />
        </mat-form-field>
      }
    </div>
  </div>
} @else {
  <mat-form-field class="full-width-input entry-form-field" appearance="outline">
    <mat-label>{{ entry().displayName }}</mat-label>
    @if (!useTextArea()) {
      <input
        aria-label="Text field for changing an entry value."
        [type]="isPassword ? 'password' : isNumber ? 'number' : 'text'"
        [attr.min]="isNumber ? entry().validation?.minimum : null"
        [attr.max]="isNumber ? entry().validation?.maximum : null"
        [placeholder]="
        inputFormControl.value === '' || inputFormControl.value === null || inputFormControl.value === undefined
          ? entry().value.default ?? ''
          : ''
      "
        [readonly]="readOnly()"
        matInput
        [formControl]="inputFormControl" />
    }
    <mat-hint
      [ngClass]="{ 'entry-editor-disabled': disabled() || (entry().value.isReadOnly ?? false) }"
      class="truncate">
      {{ entry().description }}
    </mat-hint>
    @if (inputFormControl.hasError('min')) {
      <mat-error class="truncate">
        Please enter a value higher than {{ entry().validation?.minimum }}
      </mat-error>
    }
    @if (inputFormControl.hasError('max')) {
      <mat-error class="truncate">
        Please enter a value lower than {{ entry().validation?.maximum }}
      </mat-error>
    }
    @if (inputFormControl.hasError('pattern')) {
      <mat-error class="truncate">
        Please make sure your input matches the pattern: {{ entry().validation?.regex }}
      </mat-error>
    }
    @if (inputFormControl.hasError('required')) {
      <mat-error class="truncate">
        {{ entry().displayName }} is <strong>required</strong>
      </mat-error>
    }
    @if (inputFormControl.hasError('invalidEntryValue')) {
      <mat-error class="block truncate">
        The entered value is <strong>invalid</strong>
      </mat-error>
    }
    <!-- TEXTAREA -->
    @if (useTextArea()) {
      <textarea
        matInput
        [placeholder]="
        inputFormControl.value === '' || inputFormControl.value === null || inputFormControl.value === undefined
          ? entry().value.default ?? ''
          : ''
      "
        rows="5"
        [formControl]="inputFormControl"></textarea>
    }
    @if (!isPassword && !isNumber && !readOnly() && !useTextArea()) {
      <button
        mat-icon-button
        type="button"
        matSuffix
        class="code-button"
        [disabled]="inputFormControl.disabled"
        [attr.aria-label]="'html editor'"
        (click)="setTextArea(!useTextArea())"
      >
        <mat-icon>code</mat-icon>
      </button>
    }
  </mat-form-field>
}

<!-- INPUT -->
