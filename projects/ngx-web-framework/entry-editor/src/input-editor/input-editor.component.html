<!-- SLIDER -->
<ng-container *ngIf="shouldUseSlider() && !useTextArea(); else textInput">
  <label class="slider-label">{{ entry().displayName }}</label>
  <mat-slider
    class="entry-slider"
    [min]="entry().validation?.minimum"
    [max]="entry().validation?.maximum"
    [step]="getSliderStep()"
    [discrete]="true"
    [disabled]="inputFormControl.disabled"
    [showTickMarks]="true">
    <input matSliderThumb [ngModel]="entry().value.current" (ngModelChange)="onSliderChange($event)" />
  </mat-slider>
</ng-container>

<!-- INPUT -->
<ng-template #textInput>
  <mat-form-field class="full-width-input entry-form-field" appearance="outline">
    <mat-label>{{ entry().displayName }}</mat-label>
    <input
      *ngIf="!useTextArea()"
      aria-label="Text field for changing an entry value."
      [type]="isPassword ? 'password' : isNumber ? 'number' : 'text'"
      [attr.min]="isNumber ? entry().validation?.minimum : null"
      [attr.max]="isNumber ? entry().validation?.maximum : null"
      [placeholder]="entry().description ?? 'No description available'"
      [readonly]="readOnly()"
      matInput
      [formControl]="inputFormControl" />

    <mat-error *ngIf="inputFormControl.hasError('min')" class="truncate">
      Please enter a value higher than {{ entry().validation?.minimum }}
    </mat-error>
    <mat-error *ngIf="inputFormControl.hasError('max')" class="truncate">
      Please enter a value lower than {{ entry().validation?.maximum }}
    </mat-error>
    <mat-error *ngIf="inputFormControl.hasError('pattern')" class="truncate">
      Please make sure your input matches the pattern: {{ entry().validation?.regex }}
    </mat-error>
    <mat-error *ngIf="inputFormControl.hasError('required')" class="truncate">
      {{ entry().displayName }} is <strong>required</strong>
    </mat-error>
    <mat-error *ngIf="inputFormControl.hasError('invalidEntryValue')" class="block truncate">
      The entered value is <strong>invalid</strong>
    </mat-error>

    <!-- TEXTAREA -->
    <textarea
      matInput
      [placeholder]="entry().description ?? 'No description available'"
      *ngIf="useTextArea()"
      rows="5"
      [formControl]="inputFormControl"></textarea>

    <button
      mat-icon-button
      matSuffix
      class="code-button"
      [disabled]="inputFormControl.disabled"
      [attr.aria-label]="'html editor'"
      (click)="setTextArea(!useTextArea())"
      *ngIf="!isPassword && !isNumber && !readOnly() && !useTextArea()">
      <mat-icon>code</mat-icon>
    </button>
  </mat-form-field>
</ng-template>
